<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <script
            src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
            integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
            crossorigin="anonymous">
        </script>
        <script>
            function createFamilyTree(){
                let table = document.createElement("table");
                let tHead = document.createElement("thead");
                let tRow  = document.createElement("tr");
                let Firstname = document.createElement("th");
                
                let lastName = document.createElement("th");
                let tableBody = document.createElement("tbody");
                Firstname = $(Firstname).text("Firstname")
                lastName = $(lastName).text("Lastname")
                
                $("body").append(table);
                $(table).append(tHead);
                $(tHead).append(tRow);
                $(tRow).append(Firstname, lastName);
                $(table).append(tableBody);
            };
            function addNewMember(firstName, lastName, position){
                firstName = $("<td>").text(firstName);
                lastName = $("<td>").text(lastName);
                let tRow  = document.createElement("tr");
                x = $("<td>").text("(x)");
                
                if (position == "before") {
                $("tbody").prepend(tRow);
                $(tRow).append(firstName, lastName, x);
                }
                else if (position == "after"){
                    $("tbody").append(tRow);
                    $(tRow).append(firstName, lastName, x);
                }
                $(x).css( "background-color", "orange" )
                $(x).click(function(){
                $(tRow).remove();
                })
            };
            function createForm(){

                let Finput = $("<input type='text'>").first()
                let Sinput = $("<input type='text'>")
                $("table").before(Finput, Sinput);
                let select = $("<select><option value='before'>Before</option><option value='after'>After</option></select>");
                $(Sinput).after(select);
                let submit = $('<input type="submit" value="Submit">')
                $(select).after(submit);
                $(submit).click(function(){
                    addNewMember(Finput.val(), Sinput.val(), select.val());
                })


            };
        </script>
        <meta charset="utf-8" />
        <title>Task 5</title>
    </head>

    <body>
        
        <script>createFamilyTree()</script>

        <script>createForm()</script>

    </body>

</html>